@model IEnumerable<MovieDemo.Models.Genre>

@{
    ViewData["Title"] = "Manage Categories";
}

<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-warning fw-bold"><i class="bi bi-tags me-2"></i>Manage Categories</h2>
        <a asp-action="Create" class="btn btn-warning fw-bold px-4 shadow">
            <i class="bi bi-plus-lg me-1"></i> Add Genre
        </a>
    </div>

    <div class="card glass-card border-0 shadow-lg">
        <div class="table-responsive">
            <table class="table table-dark table-hover mb-0">
                <thead class="text-secondary small text-uppercase">
                    <tr style="border-bottom: 2px solid rgba(255,255,255,0.1);">
                        <th class="ps-4 py-3">Genre Name</th>
                        <th class="text-center py-3">Assets Linked</th>
                        <th class="text-end pe-4 py-3">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <td class="ps-4 align-middle fw-bold text-light">@item.Name</td>
                            <td class="text-center align-middle">
                                <span class="badge rounded-pill bg-dark border border-secondary text-secondary px-3">
                                    @(item.Movies?.Count ?? 0) Movies
                                </span>
                            </td>
                            <td class="text-end pe-4 align-middle">
                                <a asp-controller="Genres" asp-action="Delete" asp-route-id="@item.Id"
                                   class="btn btn-sm btn-outline-danger border-0 hover-scale"
                                   title="Remove Category">
                                    <i class="bi bi-trash3-fill"></i>
                                </a>
                            </td>
                        </tr>
                    }
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="3" class="text-center py-5 text-secondary small italic">
                                No categories found. Click 'Add Genre' to begin.
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    body {
        background-color: #0c0c0c;
    }

    .glass-card {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 20px;
        overflow: hidden;
    }

    .table-dark {
        background-color: transparent;
    }

    .hover-scale {
        transition: all 0.2s ease;
    }

        .hover-scale:hover {
            transform: scale(1.2);
            color: #ff4d4d !important;
        }

    .badge {
        font-weight: 500;
        letter-spacing: 0.5px;
    }
</style>